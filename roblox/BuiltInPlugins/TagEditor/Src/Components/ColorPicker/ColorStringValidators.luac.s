PROTO_0:
  LOADK R4 K0 ["^%s*%#?(%x%x%x%x%x%x)%s*$"]
  NAMECALL R2 R0 K1 ["match"]
  CALL R2 2 1
  JUMPIFNOTEQKNIL R2 [+2]
  LOADB R1 0 +1
  LOADB R1 1
  RETURN R1 1

PROTO_1:
  LOADK R3 K0 ["^%s*(%d?%d?%d)%s*,%s*(%d?%d?%d)%s*,%s*(%d?%d?%d)%s*%s*$"]
  NAMECALL R1 R0 K1 ["match"]
  CALL R1 2 3
  JUMPIFEQKNIL R1 [+5]
  JUMPIFEQKNIL R2 [+3]
  JUMPIFNOTEQKNIL R3 [+3]
  LOADB R4 0
  RETURN R4 1
  FASTCALL1 TONUMBER R1 [+3]
  MOVE R5 R1
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 255
  JUMPIFLT R5 R4 [+17]
  FASTCALL1 TONUMBER R2 [+3]
  MOVE R5 R2
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 255
  JUMPIFLT R5 R4 [+9]
  FASTCALL1 TONUMBER R3 [+3]
  MOVE R5 R3
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 255
  JUMPIFNOTLT R5 R4 [+3]
  LOADB R4 0
  RETURN R4 1
  LOADB R4 1
  RETURN R4 1

PROTO_2:
  LOADK R3 K0 ["^%s*(%d?%d?%d)%s*,%s*(%d?%d?%d)%s*,%s*(%d?%d?%d)%s*%s*$"]
  NAMECALL R1 R0 K1 ["match"]
  CALL R1 2 3
  JUMPIFEQKNIL R1 [+5]
  JUMPIFEQKNIL R2 [+3]
  JUMPIFNOTEQKNIL R3 [+3]
  LOADB R4 0
  RETURN R4 1
  FASTCALL1 TONUMBER R1 [+3]
  MOVE R5 R1
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 104
  JUMPIFNOTLT R5 R4 [+3]
  LOADB R4 0
  RETURN R4 1
  FASTCALL1 TONUMBER R2 [+3]
  MOVE R5 R2
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 100
  JUMPIFLT R5 R4 [+9]
  FASTCALL1 TONUMBER R3 [+3]
  MOVE R5 R3
  GETIMPORT R4 K3 [tonumber]
  CALL R4 1 1
  LOADN R5 100
  JUMPIFNOTLT R5 R4 [+3]
  LOADB R4 0
  RETURN R4 1
  LOADB R4 1
  RETURN R4 1

MAIN:
  PREPVARARGS 0
  DUPTABLE R0 K3 [{"validateHex", "validateRGB", "validateHSV"}]
  DUPCLOSURE R1 K4 [PROTO_0]
  SETTABLEKS R1 R0 K0 ["validateHex"]
  DUPCLOSURE R1 K5 [PROTO_1]
  SETTABLEKS R1 R0 K1 ["validateRGB"]
  DUPCLOSURE R1 K6 [PROTO_2]
  SETTABLEKS R1 R0 K2 ["validateHSV"]
  RETURN R0 1
