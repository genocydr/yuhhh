PROTO_0:
  GETUPVAL R2 0
  LOADNIL R3
  LOADNIL R4
  FORGPREP R2
  MOVE R7 R6
  MOVE R8 R0
  CALL R7 1 1
  MOVE R8 R6
  MOVE R9 R1
  CALL R8 1 1
  JUMPIFEQ R7 R8 [+49]
  FASTCALL1 TYPEOF R7 [+3]
  MOVE R10 R7
  GETIMPORT R9 K1 [typeof]
  CALL R9 1 1
  JUMPIFNOTEQKS R9 K2 ["boolean"] [+17]
  FASTCALL1 TYPEOF R8 [+3]
  MOVE R12 R8
  GETIMPORT R11 K1 [typeof]
  CALL R11 1 1
  JUMPIFEQKS R11 K2 ["boolean"] [+2]
  LOADB R10 0 +1
  LOADB R10 1
  FASTCALL2K ASSERT R10 K3 [+4]
  LOADK R11 K3 ["keyA == bool, keyB is not"]
  GETIMPORT R9 K5 [assert]
  CALL R9 2 0
  RETURN R8 1
  FASTCALL1 TYPEOF R7 [+3]
  MOVE R12 R7
  GETIMPORT R11 K1 [typeof]
  CALL R11 1 1
  FASTCALL1 TYPEOF R8 [+3]
  MOVE R13 R8
  GETIMPORT R12 K1 [typeof]
  CALL R12 1 1
  JUMPIFEQ R11 R12 [+2]
  LOADB R10 0 +1
  LOADB R10 1
  FASTCALL2K ASSERT R10 K6 [+4]
  LOADK R11 K6 ["typeof(keyA) ~= typeof(keyB)"]
  GETIMPORT R9 K5 [assert]
  CALL R9 2 0
  JUMPIFLT R7 R8 [+2]
  LOADB R9 0 +1
  LOADB R9 1
  RETURN R9 1
  FORGLOOP R2 2 [-57]
  LOADB R2 0
  RETURN R2 1

PROTO_1:
  PREPVARARGS 1
  GETIMPORT R1 K2 [table.clone]
  MOVE R2 R0
  CALL R1 1 1
  NEWTABLE R2 0 0
  GETVARARGS R3 -1
  SETLIST R2 R3 -1 [1]
  GETIMPORT R3 K4 [table.sort]
  MOVE R4 R1
  NEWCLOSURE R5 P0
  CAPTURE VAL R2
  CALL R3 2 0
  RETURN R1 1

MAIN:
  PREPVARARGS 0
  DUPCLOSURE R0 K0 [PROTO_1]
  RETURN R0 1
